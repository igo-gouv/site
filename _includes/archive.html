<!-- ref : https://github.com/kunxuj/kunxuj.github.io -->

<section id="archives" class="page-content col-sm-9">
	<div class="wrapper">
		{% assign posts_collate = site.posts %}		
		{% for post in posts_collate  %}

			{% capture this_year %}{{ post.date | date: "%Y" }}{% endcapture %}
			{% capture this_month %}{{ post.date | date: "%-m" }}{% endcapture %} <!-- mois le plus récent -->
			{% capture next_year %}{{ post.previous.date | date: "%Y" }}{% endcapture %}
			{% capture next_month %}{{ post.previous.date | date: "%-m" }}{% endcapture %} <!-- les autres mois -->
	  
			{% if forloop.first %}
				<h1>{{page.titre}}</h1>  <!-- le titre est dans la pege archive.md -->
				<!-- cette année -->
					<h2 id="{{this_year}}">{{this_year}}</h2>  <!-- 2015 / cette année -->
					<h3>
						{% case this_month %}
						  {% when '1' %}Janvier
						  {% when '2' %}Février
						  {% when '3' %}Mars
						  {% when '4' %}Avril
						  {% when '5' %}Mai
						  {% when '6' %}Juin
						  {% when '7' %}Juillet
						  {% when '8' %}Août
						  {% when '9' %}Septembre
						  {% when '10' %}Octobre
						  {% when '11' %}Novembre
						  {% when '12' %}Décembre
						{% endcase %} 		  
					</h3> <!-- mois le plus récent -->
					
					<ul>
			{% endif %}
						<li><span>
						{% assign m = post.date | date: "%-m" %}
							{{ post.date | date: "%-d" }}
							{% case m %}
							  {% when '1' %}Janvier
							  {% when '2' %}Février
							  {% when '3' %}Mars
							  {% when '4' %}Avril
							  {% when '5' %}Mai
							  {% when '6' %}Juin
							  {% when '7' %}Juillet
							  {% when '8' %}Août
							  {% when '9' %}Septembre
							  {% when '10' %}Octobre
							  {% when '11' %}Novembre
							  {% when '12' %}Décembre
							{% endcase %}
							{{ post.date | date: "%Y" }}
										
						</span> &raquo; <a href="{{ post.url }}">{{ post.title }}</a></li>  <!-- chaque post listé peu importe l'année-->
					  
				{% if forloop.last %}
		  </ul>
				{% else %}
				{% if this_year != next_year %}
				</ul>
					<h2 id="{{next_year}}">{{next_year}}</h2>
					
					<h3>
						{% case next_month %}
						  {% when '1' %}Janvier
						  {% when '2' %}Février
						  {% when '3' %}Mars
						  {% when '4' %}Avril
						  {% when '5' %}Mai
						  {% when '6' %}Juin
						  {% when '7' %}Juillet
						  {% when '8' %}Août
						  {% when '9' %}Septembre
						  {% when '10' %}Octobre
						  {% when '11' %}Novembre
						  {% when '12' %}Décembre
						{% endcase %}	
				
				</h3><!-- plus récent post de chaque année -->
				<ul>
			  {% else %}    
				{% if this_month != next_month %}
				</ul>
				  <h3>{% case next_month %}
					  {% when '1' %}Janvier
					  {% when '2' %}Février
					  {% when '3' %}Mars
					  {% when '4' %}Avril
					  {% when '5' %}Mai
					  {% when '6' %}Juin
					  {% when '7' %}Juillet
					  {% when '8' %}Août
					  {% when '9' %}Septembre
					  {% when '10' %}Octobre
					  {% when '11' %}Novembre
					  {% when '12' %}Décembre
					{% endcase %}
				  
				  </h3><!-- autres mois de 2015 -->
				  
				{% endif %}
			{% endif %}
			{% endif %}
		{% endfor %}
		{% assign posts_collate = nil %}
	</div>
</section>

